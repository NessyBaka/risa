let cm={dummy:function(){return!1},urler:function(e){return"url("+e+")"},itp:function(e,n="l",s=!0){return null==e?null:e},yte:function(e,n=!1){if(!e)return null;let s=new URL(e),i=s.searchParams.get("v");return n?i:null!=i?"https://www.youtube.com/embed/"+i+"?origin=http://a.nessy.pw/":e},copy:function(e=null,n="https://aneyo.github.io/risa/"){let s=document.querySelector("#copy-value");s.setAttribute("type","text"),s.value=n+"#"+e,s.select();try{document.execCommand("copy")}catch(e){console.error(e)}s.setAttribute("type","hidden"),window.getSelection().removeAllRanges()},downloadLink:e=>"https://aneyo.github.io/risa/s/"+e+".osk"};Vue.component("screenshots",{props:["skin"],methods:cm,template:'<div class="nr card-img-top screenshots" :class="{nsfw:skin.nsfw}">\n    <screenshot\n        v-if="skin.img && skin.img.length>0"\n        v-for="img in this.skin.img"\n        :key="img" :src="img"></screenshot>\n    <div\n        v-if="this.skin.v && (!this.skin.img || this.skin.img.length <= 2)"\n        class="screenshot video"\n        title="(Video Preivew) Click to open the video preview"\n        :style="{backgroundImage: this.urler(\'https://img.youtube.com/vi/\'+this.yte(this.skin.v,true)+\'/0.jpg\')}"\n        @click="$emit(\'video-click\', skin.v)"></div>\n</div>'}),Vue.component("screenshot",{props:["src"],methods:cm,template:'<a\n    class="nr screenshot"\n        :href="src" target="_blank"\n        title="Click on image to open it in full size."\n        :style="{backgroundImage: this.urler(this.src)}"></a>'}),Vue.component("skin-title",{props:["skin"],template:'\n    <h5 class="nr card-title name" :title="this.skin.name||\'Fancy Skin #\'+this.skin.id">\n        <div style="flex:1">\n            <a\n                class="text-light" :href="\'#\'+this.skin.id"\n                @click="$emit(\'title-click\', skin.id)">{{this.skin.name||"Fancy Skin #"+this.skin.id}}</a>\n            <br>\n            <span class="nr author text-light">By <a :href="this.skin.alink">{{this.skin.author}}</a></span>\n        </div>\n        <a  href="#copy"\n            @click="$emit(\'copy-click\', skin.id)"\n            title="Copy skin link to clipboard"><i class="far fa-clipboard"></i></a>\n    </h5>'}),Vue.component("skin-tags",{props:["skin","card"],template:'<div :class="{nr:true,tags:true,boxed:this.card}" v-if="!this.skin.fnt">\n    <span class="tag badge badge-danger" v-if="this.skin.nsfw">NSFW</span>\n    <span class="tag badge badge-warning" v-if="!this.skin.img || this.skin.img.length<=0">No screenshots</span>\n    <span class="tag badge badge-warning" v-if="this.skin.v && (!this.skin.img || (!this.skin.img.s && !this.skin.img.p))">Only video</span>\n    <span class="tag badge badge-info" v-if="!this.skin.link">Unknown origin</span>\n    <span class="tag badge badge-info" v-if="!this.skin.author">Unknown author</span>\n    <span class="tag badge badge-success" v-if="this.skin.mod">Modded/Mixed</span>\n</div>'}),Vue.component("skin-video",{props:["video"],methods:cm,template:'<iframe :src="yte(this.video)" frameborder="0" allow="fullscreen"></iframe>'});let d={found:[],showing:[],indexes:void 0,skins:void 0,_m:void 0,video:null,skinID:null,max:6,_search_query:void 0,_page_now:0,_skin:null,get search_query(){return this._search_query},get page(){return this._page_now},get modal(){return this._skin},set search_query(e){this._search_query=e||"",this.search(this._search_query)},set page(e){this._page_now=e>=0?e:0,this.show(this._page_now)},set modal(e){this.skinID=e,this._skin=this.searchSkin(e)},start:()=>{document.cookie="theme=deep-dark",d.grab("./meta.json?t="+Date.now()).then(e=>{d.checkHashAtStart(),d.search()}).catch(e=>console.log(e))},grab:(e="./meta.json")=>new Promise((n,s)=>fetch(e).then(e=>{if(e.ok)return e.json();throw e}).then(e=>(d._meta=e,d.indexes=d._meta.index,d.skins=d._meta.skins,n())).catch(s)),search:e=>{if(d.page=0,!e)return d.found=d.skins,void d.show(0);let n=[],s=new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),i=d.indexes.length;for(var t=0;t<i;t++)s.test(d.indexes[t])&&n.push(d.skins[t]);d.found=n,d.show(0)},show:e=>{d.showing=[];let n=d.found.length;for(var s=e*d.max;s<e*d.max+d.max&&!(s>=n);s++)d.showing.push(d.found[s])},checkHashAtStart(){d.modal=document.location.hash.substr(1,document.location.hash.length)},searchSkin(e){if(null==e)return e;let n=d.skins.length;for(let s=0;s<n;s++)if(d.skins[s].id==e)return d.skins[s];return null},closeSkinCard(){document.location.href="#",d.vskin=null}},f={},risa=new Vue({el:"#risa",data:d,methods:cm});Object.assign(cm,f),d.start();